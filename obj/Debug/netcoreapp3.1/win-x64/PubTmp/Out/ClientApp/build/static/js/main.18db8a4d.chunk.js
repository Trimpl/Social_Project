(this.webpackJsonpudalit=this.webpackJsonpudalit||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(4),i=(n(67),n(0)),c=n.n(i),o=n(35),u=n(14),l=n(40),d=n(23),p=n(10),m=n(33),h=n(60),f=n(53),E=n(5),g=n(6),v=n(44),b="returnUrl",k="message",y="logout-callback",O="logout",_="logged-out",w="login",N="login-callback",j="login-failed",I="profile",S="register",C="/authentication",x={DefaultLoginRedirectPath:"/",ApiAuthorizationClientConfigurationUrl:"/_configuration/".concat("WebApplication1"),ApiAuthorizationPrefix:C,Login:"".concat(C,"/").concat(w),LoginFailed:"".concat(C,"/").concat(j),LoginCallback:"".concat(C,"/").concat(N),Register:"".concat(C,"/").concat(S),Profile:"".concat(C,"/").concat(I),LogOut:"".concat(C,"/").concat(O),LoggedOut:"".concat(C,"/").concat(_),LogOutCallback:"".concat(C,"/").concat(y),IdentityRegisterPath:"/Identity/Account/Register",IdentityManagePath:"/Identity/Account/Manage"},T=new(function(){function e(){Object(E.a)(this,e),this.userManager=void 0,this._callbacks=[],this._nextSubscriptionId=0,this._user=null,this._isAuthenticated=!1,this._popUpDisabled=!0}return Object(g.a)(e,[{key:"isAuthenticated",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUser();case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._user||!this._user.profile){e.next=2;break}return e.abrupt("return",this._user.profile);case 2:return e.next=4,this.ensureUserManagerInitialized();case 4:return e.next=6,this.userManager.getUser();case 6:return t=e.sent,e.abrupt("return",t&&t.profile);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.next=4,this.userManager.getUser();case 4:return t=e.sent,e.abrupt("return",t&&t.access_token);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.prev=2,console.log("\u0422\u0418\u0425\u0410\u042f \u0410\u0412\u0422\u041e\u0420\u0418\u0417\u0410\u0426\u0418\u042f1"),e.next=6,this.userManager.signinSilent(this.createArguments(null));case 6:return n=e.sent,console.log("\u0422\u0418\u0425\u0410\u042f \u0410\u0412\u0422\u041e\u0420\u0418\u0417\u0410\u0426\u0418\u042f2"),this.updateState(n),console.log("\u0422\u0418\u0425\u0410\u042f \u0410\u0412\u0422\u041e\u0420\u0418\u0417\u0410\u0426\u0418\u042f3"),e.abrupt("return",this.success(t));case 13:if(e.prev=13,e.t0=e.catch(2),console.log("asd"),e.prev=16,!this._popUpDisabled){e.next=19;break}throw new Error("Popup disabled. Change 'AuthorizeService.js:AuthorizeService._popupDisabled' to false to enable it.");case 19:return console.log(e.t0),e.next=22,this.userManager.signinPopup(this.createArguments(void 0));case 22:return a=e.sent,this.updateState(a),e.abrupt("return",this.success(t));case 27:if(e.prev=27,e.t1=e.catch(16),"Popup window closed"!==e.t1.message){e.next=33;break}return e.abrupt("return",this.error("The user closed the window."));case 33:this._popUpDisabled||console.log("Popup authentication error: ",e.t1);case 34:return e.prev=34,e.abrupt("return",this.redirect());case 38:return e.prev=38,e.t2=e.catch(34),console.log("Redirect authentication error: ",e.t2),e.abrupt("return",this.error(e.t2));case 42:case"end":return e.stop()}}),e,this,[[2,13],[16,27],[34,38]])})));return function(t){return e.apply(this,arguments)}}()},{key:"completeSignIn",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.ensureUserManagerInitialized();case 3:return e.next=5,this.userManager.signinCallback(t);case 5:return n=e.sent,this.updateState(n),e.abrupt("return",this.success(n&&n.state));case 10:return e.prev=10,e.t0=e.catch(0),console.log("There was an error signing in: ",e.t0),e.abrupt("return",this.error("There was an error signing in."));case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:if(e.prev=2,!this._popUpDisabled){e.next=5;break}throw new Error("Popup disabled. Change 'AuthorizeService.js:AuthorizeService._popupDisabled' to false to enable it.");case 5:return e.next=7,this.userManager.signoutPopup(this.createArguments(void 0));case 7:return this.updateState(void 0),e.abrupt("return",this.success(t));case 11:return e.prev=11,e.t0=e.catch(2),console.log("Popup signout error: ",e.t0),e.prev=14,e.next=17,this.userManager.signoutRedirect(this.createArguments(t));case 17:return e.abrupt("return",this.redirect());case 20:return e.prev=20,e.t1=e.catch(14),console.log("Redirect signout error: ",e.t1),e.abrupt("return",this.error(e.t1));case 24:case"end":return e.stop()}}),e,this,[[2,11],[14,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"completeSignOut",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.prev=2,e.next=5,this.userManager.signoutCallback(t);case 5:return n=e.sent,this.updateState(null),e.abrupt("return",this.success(n&&n.data));case 10:return e.prev=10,e.t0=e.catch(2),console.log("There was an error trying to log out '".concat(e.t0,"'.")),e.abrupt("return",this.error(e.t0));case 14:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateState",value:function(e){this._user=e,this._isAuthenticated=!!this._user,this.notifySubscribers()}},{key:"subscribe",value:function(e){return this._callbacks.push({callback:e,subscription:this._nextSubscriptionId++}),this._nextSubscriptionId-1}},{key:"unsubscribe",value:function(e){var t=this._callbacks.map((function(t,n){return t.subscription===e?{found:!0,index:n}:{found:!1}})).filter((function(e){return!0===e.found}));if(1!==t.length)throw new Error("Found an invalid number of subscriptions ".concat(t.length));this._callbacks.splice(t[0].index,1)}},{key:"notifySubscribers",value:function(){for(var e=0;e<this._callbacks.length;e++){(0,this._callbacks[e].callback)()}}},{key:"createArguments",value:function(e){return{useReplaceToNavigate:!0,data:e}}},{key:"error",value:function(e){return{status:L.Fail,message:e}}},{key:"success",value:function(e){return{status:L.Success,state:e}}},{key:"redirect",value:function(){return{status:L.Redirect}}},{key:"ensureUserManagerInitialized",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,n,a=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.userManager){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch(x.ApiAuthorizationClientConfigurationUrl);case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("Could not load settings for '".concat("WebApplication1","'"));case 7:return e.next=9,t.json();case 9:(n=e.sent).automaticSilentRenew=!0,n.includeIdTokenInSilentRenew=!0,n.userStore=new v.WebStorageStateStore({prefix:"WebApplication1"}),this.userManager=new v.UserManager(n),this.userManager.events.addUserSignedOut(Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.userManager.removeUser();case 2:a.updateState(void 0);case 3:case"end":return e.stop()}}),e)}))));case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"instance",get:function(){return T}}]),e}()),A=T,L={Redirect:"redirect",Success:"success",Fail:"fail"},F={request:function(e,t,n,a){return function(){var i=Object(s.a)(r.a.mark((function i(c,o){var u,l;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:u=o(),(l=new FormData).append("Input.Email",e),l.append("Input.Password",t),l.append("Input.RememberMe",n.toString()),u&&u.loginForm&&(c({type:"REQUEST"}),fetch(a,{method:"POST",body:l}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=8;break}return c({type:"RECEIVE",receive:"You successfully logged in",relocate:!0}),"https://localhost:5001/",e.next=5,A.signIn({returnUrl:"https://localhost:5001/"});case 5:window.location.replace("https://localhost:5001/"),e.next=9;break;case 8:c({type:"RECEIVE",receive:"Oops, that's not a match. Try again?",relocate:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)})));case 6:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}()}},P={isLoading:i.createElement("div",null),status:"",relocate:!1},R={requestProfile:function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.getAccessToken();case 2:s=t.sent,fetch("api/Profile?userId=".concat(e),{headers:s?{Authorization:"Bearer ".concat(s)}:{}}).then((function(e){return e.ok?e.json():null})).then((function(e){n({type:"RECEIVE",user:e})})),n({type:"REQUEST"});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},requestFriends:function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"REQUEST"}),t.next=3,A.getAccessToken();case 3:s=t.sent,fetch("api/getFriends?id=".concat(e),{method:"GET",headers:s?{Authorization:"Bearer ".concat(s)}:{}}).then((function(e){return e.ok?e.json():[]})).then((function(e){n({type:"RECEIVE_LIST_OF_FRIENDS",listOfFriends:e})}));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},D={user:null,isLoading:i.createElement("div",null),listOfFriends:[]},U={getEditProfile:function(){return function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getAccessToken();case 2:a=e.sent,fetch("api/EditProfile",{method:"GET",headers:a?{Authorization:"Bearer ".concat(a)}:{}}).then((function(e){return e.json()})).then((function(e){t({type:"RECEIVE",user:e,status:"downloaded"})})),t({type:"REQUEST"});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},postEditProfile:function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){var s,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.getAccessToken();case 2:s=t.sent,(i=new FormData).append("Input.FirstName",e.firstName),i.append("Input.SecondName",e.secondName),i.append("Input.Country",e.country),i.append("Input.City",e.city),i.append("Input.Languages",e.languages),i.append("Input.DateOfBirth",e.dateOfBirth.toString()),i.append("Input.FamilyStatus",e.familyStatus),i.append("Input.Avatar",e.avatar),fetch("api/EditProfile",{method:"POST",headers:s?{Authorization:"Bearer ".concat(s)}:{},body:i}).then((function(e){return e.json()})).then((function(e){n({type:"RECEIVE",user:e,status:"ok 200"})})),n({type:"REQUEST"});case 14:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},M={user:{id:"",firstName:"",secondName:"",familyStatus:"",dateOfBirth:new Date,country:"",city:"",languages:"",avatar:"",isAuthor:!1},isLoading:!1,status:""},G={isLoading:!1,listOfFriends:[],listOfNotFriends:[]},B={requestFriends:function(){return function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST"}),e.next=3,A.getAccessToken();case 3:a=e.sent,fetch("api/friends",{method:"GET",headers:a?{Authorization:"Bearer ".concat(a)}:{}}).then((function(e){return e.ok?e.json():[]})).then((function(e){t({type:"RECEIVE_LIST_OF_FRIENDS",listOfFriends:e})}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},requestNotFriends:function(){return function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST"}),e.next=3,A.getAccessToken();case 3:a=e.sent,fetch("api/friends/notFriends",{method:"GET",headers:a?{Authorization:"Bearer ".concat(a)}:{}}).then((function(e){return e.ok?e.json():[]})).then((function(e){t({type:"RECEIVE_LIST_OF_NOT_FRIENDS",listOfNotFriends:e})}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},V=n(24),q=n(36),z={requestDialog:function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){var s,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.getAccessToken();case 2:return s=t.sent,t.next=5,A.getUser();case 5:i=t.sent,fetch("api/Dialog?toUserId=".concat(e),{method:"GET",headers:s?{Authorization:"Bearer ".concat(s)}:{}}).then((function(e){return e.ok?e.json():[]})).then((function(t){n({type:"GET_NUMBER_OF_UNREAD_DIALOGS",id:i.sub}),n({type:"RECEIVE_DIALOG",messages:t,withWhomId:e})})),n({type:"REQUEST"});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},sendMessage:function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a,s){var i,c,o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([A.getUser()]);case 2:i=n.sent,c=Object(q.a)(i,1),o=c[0],a({type:"ADD_MESSAGE",user:o.Email,message:t,to:e});case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},recieveMessage:function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("MESSAGE_RECEIVED_VIEW"),n({type:"MESSAGE_RECEIVED_VIEW",message:e});case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},W={isLoading:!1,dialog:[],withWhomId:""},Q={sendPost:function(e,t,n){return function(){var a=Object(s.a)(r.a.mark((function a(s,i){var c,o,u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.getAccessToken();case 2:return a.sent,a.next=5,Promise.all([A.getUser()]);case 5:c=a.sent,o=Object(q.a)(c,1),u=o[0],s({type:"CREATE_POST",postText:e,userId:u.sub,groupId:n,pictureLink:t});case 9:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},requestPosts:function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){var s,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=a(),t.next=3,A.getAccessToken();case 3:if(i=t.sent,"Profile"!==e){t.next=8;break}s.profile&&s.profile.user&&fetch("api/getPosts?userId=".concat(s.profile.user.id),{method:"GET",headers:i?{Authorization:"Bearer ".concat(i)}:{}}).then((function(e){return e.ok?e.json():[]})).then((function(e){n({type:"RECIEVE_POSTS_OK",posts:e,user:s.profile.user})})),t.next=17;break;case 8:if("Group"!==e){t.next=12;break}s.group&&s.group.group.id&&fetch("api/getPosts?userId=".concat(s.group.group.id),{method:"GET",headers:i?{Authorization:"Bearer ".concat(i)}:{}}).then((function(e){return e.ok?e.json():[]})).then((function(e){n({type:"RECIEVE_POSTS_GROUP_OK",posts:e,group:s.group.group})})),t.next=17;break;case 12:if("News"!==e){t.next=17;break}return t.next=15,A.isAuthenticated();case 15:t.sent.valueOf()&&fetch("api/getNewsPosts",{method:"GET",headers:i?{Authorization:"Bearer ".concat(i)}:{}}).then((function(e){return e.ok?e.json():[]})).then((function(e){n({type:"RECIEVE_POSTS_OK",posts:e,user:s.profile.user})}));case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},getLike:function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("api/getLike?postId=".concat(e),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return n({type:"RECIEVE_LIKES_OK",likes:e})})),n({type:"CREATE_POST_REQUEST"});case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},sendLike:function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.getUser();case 2:s=t.sent,n({type:"SEND_LIKE",userId:s.sub,postId:e});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},sendComment:function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a,s){var i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A.getUser();case 2:i=n.sent,a({type:"SEND_COMMENT",userId:i.sub,postId:e,text:t});case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},K={recievedSuccess:!1,posts:[],user:null,group:null},H={requestAlbum:function(){return function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=n())&&a.profile&&a.profile.user)){e.next=6;break}return e.next=4,A.getAccessToken();case 4:s=e.sent,fetch("api/getAlbum?albumId=".concat(a.profile.user.id),{method:"GET",headers:s?{Authorization:"Bearer ".concat(s)}:{}}).then((function(e){return e.json()})).then((function(e){t({type:"RECEIVE_ALBUM",pictures:e,isAuthor:a.profile.user.isAuthor})}));case 6:t({type:"REQUEST_ALBUM"});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},addToAlbum:function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){var s,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((s=a())&&s.profile&&s.profile.user)){t.next=7;break}return t.next=4,A.getAccessToken();case 4:i=t.sent,fetch("api/addPicture",{method:"POST",headers:i?{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"}:{},body:JSON.stringify({albumId:s.profile.user.id,pictures:e})}).then((function(e){return e.json()})).then((function(e){n({type:"RECEIVE_ALBUM",pictures:e,isAuthor:s.profile.user.isAuthor})})),n({type:"REQUEST_ALBUM"});case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},J={isLoading:!1,pictures:[],isAuthor:!1},X={request:function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a,s){var i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A.getAccessToken();case 2:i=n.sent,fetch("api/".concat(t),{method:"POST",headers:i?{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"}:{},body:JSON.stringify(e)}).then((function(e){e.ok?a({type:"RECEIVE"}):a({type:"SMTH_WENT_WRONG"})})),a({type:"REQUEST"});case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},getGroup:function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.getAccessToken();case 2:s=t.sent,fetch("api/groupInfo?id=".concat(e),{method:"GET",headers:s?{Authorization:"Bearer ".concat(s)}:{}}).then((function(e){return e.json()})).then((function(e){n({type:"GET_GROUP",group:e.group,isAuthor:e.isAuthor,isAdmin:e.isAdmin})})),n({type:"REQUEST"});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},getListOfSubscribers:function(e){return function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=n())&&a.group&&a.group.group&&(fetch("api/getListOfSubscribers?groupId=".concat(a.group.group.id),{method:"GET"}).then((function(e){return e.json()})).then((function(e){t({type:"GET_LIST_OF_SUBSCRIBERS",users:e.users,admins:e.admins})})),t({type:"REQUEST"}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},Y={isLoading:!1,group:{id:"",userId:"",name:"",description:"",avatarLink:""},isAuthor:!1,isAdmin:!1,users:[],admins:[]},$={request:function(){return function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getAccessToken();case 2:a=e.sent,fetch("api/getNotifications",{headers:a?{Authorization:"Bearer ".concat(a)}:{}}).then((function(e){return e.ok?e.json():[]})).then((function(e){t({type:"RECEIVE_NOTIFICATIONS",notifications:e})})),t({type:"REQUEST_NOTIFICATIONS"});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},removeNotifications:function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e!=[]&&n({type:"REMOVE_NOTIFICATIONS",ids:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},Z={isLoading:!1,notifications:[]},ee={deleteNotification:function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){n({type:"DELETE_NOTIFICATION",message:e})}),5e3);case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},te={messages:[]},ne={loginForm:function(e,t){if(void 0===e)return P;var n=t;switch(n.type){case"REQUEST":return{status:"",isLoading:i.createElement("div",{className:"spinner-border text-primary",role:"status"},i.createElement("span",{className:"sr-only"},"Loading...")),relocate:!1};case"RECEIVE":return{status:n.receive,isLoading:i.createElement("div",null),relocate:n.relocate};default:return e}},profile:function(e,t){if(void 0===e)return D;var n=t;switch(n.type){case"REQUEST":return Object(p.a)({},e,{user:null,isLoading:i.createElement("div",{className:"spinner-border text-primary",role:"status"},i.createElement("span",{className:"sr-only"},"Loading..."))});case"RECEIVE_LIST_OF_FRIENDS":return Object(p.a)({},e,{listOfFriends:n.listOfFriends});case"RECEIVE":return Object(p.a)({},e,{user:n.user,isLoading:i.createElement("div",null)});default:return e}},editProfile:function(e,t){if(void 0===e)return M;var n=t;switch(n.type){case"REQUEST":return{user:e.user,isLoading:!0,status:""};case"RECEIVE":return{isLoading:!1,user:n.user,status:n.status}}return e},friends:function(e,t){if(void 0===e)return G;var n=t;switch(n.type){case"REQUEST":return{isLoading:!0,listOfNotFriends:e.listOfNotFriends,listOfFriends:e.listOfFriends};case"RECEIVE_LIST_OF_NOT_FRIENDS":return{isLoading:!1,listOfNotFriends:n.listOfNotFriends,listOfFriends:e.listOfFriends};case"RECEIVE_LIST_OF_FRIENDS":return{isLoading:!1,listOfNotFriends:e.listOfNotFriends,listOfFriends:n.listOfFriends};default:return e}},dialog:function(e,t){if(void 0===e)return W;var n=t;switch(n.type){case"REQUEST":return Object(p.a)({},e,{isLoading:!0,dialog:e.dialog});case"MESSAGE_RECEIVED":return n.message.firstId==e.withWhomId||n.message.secondId==e.withWhomId?(n.message.firstId,e.withWhomId,Object(p.a)({},e,{dialog:[].concat(Object(V.a)(e.dialog),[n.message])})):Object(p.a)({},e);case"RECEIVE_DIALOG":return Object(p.a)({},e,{isLoading:!1,dialog:n.messages,withWhomId:n.withWhomId})}return e},createPost:function(e,t){if(void 0===e)return K;var n=t;switch(n.type){case"LIKE_RECEIVED":return Object(p.a)({},e,{posts:e.posts.map((function(e){return e.id===n.newLike.postId&&(e.likes=n.newLike.countsOfLikes,n.user.sub===n.newLike.userId&&(e.isLiked=n.newLike.isLiked)),e}))});case"RECIEVE_POSTS_OK":return Object(p.a)({},e,{user:n.user,posts:n.posts});case"COMMENT_RECEIVED":return Object(p.a)({},e,{posts:e.posts.map((function(e){return e.id===n.newComment.postId&&(e.comments=[].concat(Object(V.a)(e.comments),[n.newComment])),e}))});case"RECIEVE_POSTS_GROUP_OK":return Object(p.a)({},e,{group:n.group,posts:n.posts});case"RECIEVE_POSTS_BAD":return Object(p.a)({},e);case"CREATE_POST_REQUEST":return Object(p.a)({},e,{recievedSuccess:!1});case"CREATE_POST_RECEIVE_OK":return Object(p.a)({},e,{posts:[n.post].concat(Object(V.a)(e.posts)),recievedSuccess:!0});case"CREATE_POST_RECEIVE_BAD":return Object(p.a)({},e,{recievedSuccess:!1})}return e},photoAlbum:function(e,t){if(void 0===e)return J;var n=t;switch(n.type){case"REQUEST_ALBUM":return Object(p.a)({},e,{isLoading:!0});case"RECEIVE_ALBUM":return Object(p.a)({},e,{pictures:n.pictures,isLoading:!1,isAuthor:n.isAuthor})}return e},group:function(e,t){if(void 0===e)return Y;var n=t;switch(n.type){case"GET_GROUP":return Object(p.a)({},e,{isAuthor:n.isAuthor,group:n.group,isLoading:!1,isAdmin:n.isAdmin});case"GET_LIST_OF_SUBSCRIBERS":return Object(p.a)({},e,{admins:n.admins,users:n.users});case"SMTH_WENT_WRONG":return Object(p.a)({},e,{isLoading:!1});case"REQUEST":return Object(p.a)({},e,{isLoading:!0});case"RECEIVE":return Object(p.a)({},e,{isLoading:!1})}return e},notification:function(e,t){if(void 0===e)return Z;var n=t;switch(n.type){case"REQUEST_NOTIFICATIONS":return{isLoading:!0,notifications:e.notifications};case"RECEIVE_NOTIFICATIONS":return{isLoading:!1,notifications:n.notifications};case"NOTIFICATION_RECIEVED":return Object(p.a)({},e,{notifications:[n.notification].concat(Object(V.a)(e.notifications))})}return e},mesNotifications:function(e,t){if(void 0===e)return te;var n=t;switch(n.type){case"DELETE_NOTIFICATION":return{messages:e.messages.filter((function(e){if(e.id!=n.message.id)return e}))};case"MESSAGE_RECEIVED":return window.location.pathname.includes(n.message.firstId)||window.location.pathname.includes(n.message.secondId)?Object(p.a)({},e):{messages:[].concat(Object(V.a)(e.messages),[n.message])}}return e}},ae=n(49);function re(){return(re=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getAccessToken();case 2:return t=e.sent,e.abrupt("return",null!==t?t:"");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=(new ae.a).withUrl("/chatHub",{accessTokenFactory:function(){return function(){return re.apply(this,arguments)}()}}).configureLogging(ae.b.None).build(),ie=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return(a=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("CONNECTION START"),e.next=4,se.start();case 4:console.log("CONNECTED"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),setTimeout((function(){return n()}),5e3);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)},n=function(){return a.apply(this,arguments)},se.on("ReceiveMessage",function(){var e=Object(s.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch({type:"MESSAGE_RECEIVED",message:n}),e.next=3,A.getUser();case 3:a=e.sent,t.dispatch({type:"GET_NUMBER_OF_UNREAD_DIALOGS",id:a.sub});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),se.on("NewPost",(function(e){e.comments=[],t.dispatch({type:"CREATE_POST_RECEIVE_OK",post:e})})),se.on("NewLike",function(){var e=Object(s.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getUser();case 2:a=e.sent,t.dispatch({type:"LIKE_RECEIVED",newLike:n,user:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),se.on("NewComment",(function(e){t.dispatch({type:"COMMENT_RECEIVED",newComment:e})})),se.on("GetNumberOfUnreadDialogs",(function(e){document.getElementById("dialogsSpan")?0===e?document.getElementById("dialogsSpan").className="badge badge-pill badge-warning d-none":(document.getElementById("dialogsSpan").textContent=e,document.getElementById("dialogsSpan").className="badge badge-pill badge-warning"):0!==e&&(document.getElementById("Dialogs").innerHTML+='<span class="badge badge-pill badge-warning" id="dialogsSpan">'.concat(e,"</span>"))})),se.on("RecieveNotification",(function(e){t.dispatch({type:"NOTIFICATION_RECIEVED",notification:e})})),se.onclose(Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("DISCONNECTED. Trying to reconnect"),n();case 2:case"end":return e.stop()}}),e)})))),e.next=11,A.getUser();case 11:return i=e.sent,e.next=14,se.start().then((function(){t.dispatch({type:"GET_NUMBER_OF_UNREAD_DIALOGS",id:i.sub})}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){return function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Connected"!==se.state){t.next=19;break}t.t0=n.type,t.next="GET_NUMBER_OF_UNREAD_DIALOGS"===t.t0?4:"CREATE_POST"===t.t0?6:"MESSAGE_RECEIVED_VIEW"===t.t0?8:"ADD_MESSAGE"===t.t0?11:"SEND_LIKE"===t.t0?13:"SEND_COMMENT"===t.t0?15:"REMOVE_NOTIFICATIONS"===t.t0?17:19;break;case 4:return se.invoke("GetNumberOfUnreadDialogs",n.id),t.abrupt("break",19);case 6:return se.invoke("SendPost",n.postText,n.pictureLink,n.userId,n.groupId),t.abrupt("break",19);case 8:return se.invoke("MESSAGE_RECEIVED_VIEW",n.message),se.invoke("GetNumberOfUnreadDialogs",n.message.secondId),t.abrupt("break",19);case 11:return se.invoke("SendMessage",n.user,n.message,n.to),t.abrupt("break",19);case 13:return se.invoke("SendLikes",n.userId,n.postId),t.abrupt("break",19);case 15:return se.invoke("SendComment",n.userId,n.postId,n.text),t.abrupt("break",19);case 17:return se.invoke("RemoveNotifications",n.ids),t.abrupt("break",19);case 19:return t.abrupt("return",e(n));case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};var oe=n(13),ue=n(105),le=n(8),de=n(7),pe=n(9),me=(n(80),function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return 0!=this.props.messages.length?i.createElement("div",{id:"notifications"},this.props.messages.map((function(t){return e.props.deleteNotification(t),i.createElement("div",{key:t.id,className:"content_not pb-4"},i.createElement("div",{className:"header_not"},i.createElement("img",{src:t.avatar,alt:"",width:"30",height:"30",className:"img-avatar_not"}),i.createElement("div",{className:"header_info_not"},i.createElement("h5",{className:"author_not"},t.firstUserId)),i.createElement("div",{className:"text_not"},t.message)))}))):i.createElement("div",null)}}]),t}(i.PureComponent)),he=Object(u.c)((function(e){return e.mesNotifications}),ee)(me),fe=n(104),Ee=n(106),ge=n(107),ve=n(108),be=n(15),ke=(n(81),n(102)),ye=n(103),Oe=n(27),_e=n(28),we=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={count:0==n.props.notifications.length?"":n.props.notifications.length.toString()},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.ensureDataFetched()}},{key:"remove",value:function(){var e=this.props.notifications.map((function(e){return e.id}));this.props.removeNotifications(e),this.setState({count:0==this.props.notifications.length?"":this.props.notifications.length.toString()})}},{key:"ensureDataFetched",value:function(){this.props.request()}},{key:"renderButton",value:function(){this.setState({count:0==this.props.notifications.length?"":this.props.notifications.length.toString()})}},{key:"render",value:function(){var e=this,t=0==this.props.notifications.length?"":this.props.notifications.length.toString();return i.createElement(i.Fragment,null,i.createElement("div",{className:"dropdown"},i.createElement("button",{className:"btn dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:function(){return e.remove()}},i.createElement("span",{className:"badge badge-pill badge-warning"},t),i.createElement(Oe.a,{icon:_e.a})),""!=t?i.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},this.props.notifications.map((function(e){var t=""!=e.image?i.createElement("img",{src:e.image,width:"10",height:"10",alt:""}):i.createElement("div",null);return i.createElement("a",{key:e.id,className:"dropdown-item"},i.createElement("div",null,t,e.text))}))):i.createElement("div",null)))}}]),t}(i.PureComponent),Ne=Object(u.c)((function(e){return e.notification}),$)(we),je=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e)))._subscription=void 0,n.state={isAuthenticated:!1,userName:null,userId:null},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._subscription=A.subscribe((function(){return e.populateState()})),this.populateState()}},{key:"componentWillUnmount",value:function(){A.unsubscribe(this._subscription)}},{key:"populateState",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,n,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([A.isAuthenticated(),A.getUser()]);case 2:t=e.sent,n=Object(q.a)(t,2),a=n[0],s=n[1],this.setState({isAuthenticated:a,userName:s&&s.Email,userId:s&&s.sub});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isAuthenticated,n=e.userName,a=e.userId;if(t){var r="".concat(x.Profile),s={pathname:"".concat(x.LogOut),state:{local:!0}};return this.authenticatedView(n,a,r,s)}var i="".concat(x.Register),c="".concat(x.Login);return this.anonymousView(i,c)}},{key:"authenticatedView",value:function(e,t,n,a){return c.a.createElement(i.Fragment,null,c.a.createElement(ke.a,null,c.a.createElement(ye.a,{tag:be.a,className:"text-dark",to:"/"},c.a.createElement(Oe.a,{icon:_e.e})," News")),c.a.createElement(ke.a,null,c.a.createElement(ye.a,{tag:be.a,className:"text-dark",to:"/Friends"},c.a.createElement(Oe.a,{icon:_e.h})," Friends")),c.a.createElement(ke.a,null,c.a.createElement(ye.a,{tag:be.a,className:"text-dark",to:"/Dialogs"},c.a.createElement("div",{id:"Dialogs"},c.a.createElement(Oe.a,{icon:_e.b})," Dialogs"))),c.a.createElement(ke.a,null,c.a.createElement(ye.a,{tag:be.a,className:"text-dark",to:"/ListOfGroups"},c.a.createElement(Oe.a,{icon:_e.c})," Groups")),c.a.createElement(ke.a,null,c.a.createElement(ye.a,{tag:be.a,className:"text-dark",to:"/Profile/".concat(t)},c.a.createElement(Oe.a,{icon:_e.g})," ",e," ")),c.a.createElement(ke.a,null,c.a.createElement(ye.a,{tag:be.a,className:"text-dark",to:a},c.a.createElement(Oe.a,{icon:_e.f}))),c.a.createElement(ke.a,null,c.a.createElement(Ne,null)))}},{key:"anonymousView",value:function(e,t){return c.a.createElement(i.Fragment,null,c.a.createElement(ke.a,null,c.a.createElement(ye.a,{tag:be.a,className:"text-dark",to:"/MyRegister"},"Register")),c.a.createElement(ke.a,null,c.a.createElement(ye.a,{tag:be.a,className:"text-dark",to:"/MyLogin"},"Login")))}}]),t}(i.Component),Ie=function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(le.a)(this,(e=Object(de.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},n.toggle=function(){n.setState({isOpen:!n.state.isOpen})},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return i.createElement("header",null,i.createElement(fe.a,{className:"navbar navbar-expand-md navbar-light box-shadow mb-5 fixed-top bg-light"},i.createElement(ue.a,null,i.createElement(Ee.a,{tag:be.a,to:"/"},"MSN"),i.createElement(ge.a,{onClick:this.toggle,className:"mr-2"}),i.createElement(ve.a,{className:"",isOpen:this.state.isOpen,navbar:!0},i.createElement("ul",{className:"navbar-nav flex-grow"},i.createElement(je,null))))))}}]),t}(i.PureComponent),Se=function(e){return i.createElement(i.Fragment,null,i.createElement(Ie,null),i.createElement(ue.a,null,i.createElement("main",{role:"main",style:{marginTop:"65px"}},i.createElement(he,null),e.children)))},Ce=n(18),xe=(n(92),function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={commentText:""},n.handleInputChange=n.handleInputChange.bind(Object(Ce.a)(n)),n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleInputChange",value:function(e){this.setState({commentText:e.target.value})}},{key:"renderCreatePost",value:function(){return i.createElement("div",{className:"form__group field"},i.createElement("textarea",{className:"form__field",placeholder:"Name",name:"name",required:!0,onChange:this.handleInputChange,value:this.state.commentText}),i.createElement("label",{className:"form__label"},"Send comment"),i.createElement("div",{className:"btn_send",onClick:this.sendComment.bind(this)},i.createElement("span",{className:"noselect"},"Send"),i.createElement("div",{id:"circle"})))}},{key:"sendComment",value:function(e){this.props.sendComment(this.props.postId,this.state.commentText),this.setState({commentText:""})}},{key:"render",value:function(){return i.createElement("div",{className:"col-md-10 col-xs-6 col-xl-10 col-9"},this.renderCreatePost())}}]),t}(i.PureComponent)),Te=(n(93),function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"showAll",value:function(e){var t=document.getElementById(e).className;document.getElementById(e).className="wall_post_text"==t?"wall_post_text_cut":"wall_post_text"}},{key:"renderText",value:function(e,t){var n=this;return e.length>300?i.createElement("div",null,i.createElement("div",{id:t,className:"comment_post_text_cut"},e),i.createElement("button",{className:"btn btn-link",onClick:function(){return n.showAll(t)}},"Show all")):i.createElement("div",{className:"comment_post_text"},e)}},{key:"render",value:function(){var e=this;return this.props.comments&&0!=this.props.comments.length?i.createElement("div",{className:"border-top border-bottom border-blue mb-1 comment_post_div"},this.props.comments.map((function(t){var n,a=new Date(t.createDate);return n=a.toLocaleDateString()==(new Date).toLocaleDateString()?a.toLocaleTimeString():"".concat(a.toLocaleDateString()," ").concat(a.toLocaleTimeString()),i.createElement("div",{key:t.id,className:"comment_post_content mb-1"},i.createElement(be.a,{to:"/Profile/".concat(t.link)},i.createElement("div",{className:"comment_post_header"},i.createElement("img",{src:t.avatar,alt:"",width:"30",height:"30",className:"img-avatar"}),i.createElement("div",{className:"comment_post_header_info"},i.createElement("h5",{className:"comment_post_author"},t.userId),i.createElement("div",{className:"comment_post_date"},n)))),i.createElement("div",null,e.renderText(t.text,t.id)))}))):i.createElement("div",null)}}]),t}(i.PureComponent)),Ae=(n(94),function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={link:"",background:i.createElement("div",null)},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"closeModalPicture",value:function(){this.setState({background:i.createElement("div",null)})}},{key:"renderModalPicture",value:function(){var e=this;this.setState({background:i.createElement("div",{className:"div_modal"},i.createElement("img",{src:this.props.link,key:this.props.id,alt:"",className:"image_modal"}),i.createElement("div",{className:"wrapper_btn"},i.createElement("div",{className:"close-button",onClick:function(){return e.closeModalPicture()}},i.createElement("div",{className:"in"},i.createElement("div",{className:"close-button-block"}),i.createElement("div",{className:"close-button-block"})),i.createElement("div",{className:"out"},i.createElement("div",{className:"close-button-block"}),i.createElement("div",{className:"close-button-block"})))))})}},{key:"render",value:function(){var e=this;return i.createElement("div",{className:"div_image mx-1",id:this.props.id},this.state.background,i.createElement("img",{onClick:function(){return e.renderModalPicture()},src:this.props.link,key:this.props.id,alt:"",className:"image mb-1"}))}}]),t}(i.PureComponent)),Le=(n(95),function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={isLiked:n.props.isLiked},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"sendLike",value:function(e){this.props.sendLike(this.props.postId)}},{key:"change",value:function(e){console.log(e.target.value)}},{key:"render",value:function(){return i.createElement("div",{className:"row"},i.createElement("input",{type:"checkbox",className:"check",id:this.props.postId,checked:this.props.isLiked,value:this.props.postId,onChange:this.change.bind(this)}),i.createElement("label",{htmlFor:this.props.postId,onClick:this.sendLike.bind(this)},i.createElement("svg",{id:"heart-svg",viewBox:"467 392 58 57",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{id:"Group",fill:"none",fillRule:"evenodd",transform:"translate(467 392)"},i.createElement("path",{d:"M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143 43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z",id:"heart",fill:"#AAB8C2"}),i.createElement("circle",{id:"main-circ",fill:"#E2264D",opacity:"0",cx:"29.5",cy:"29.5",r:"1.5"}),i.createElement("g",{id:"grp7",opacity:"0",transform:"translate(7 6)"},i.createElement("circle",{id:"oval1",fill:"#9CD8C3",cx:"2",cy:"6",r:"2"}),i.createElement("circle",{id:"oval2",fill:"#8CE8C3",cx:"5",cy:"2",r:"2"})),i.createElement("g",{id:"grp6",opacity:"0",transform:"translate(0 28)"},i.createElement("circle",{id:"oval1",fill:"#CC8EF5",cx:"2",cy:"7",r:"2"}),i.createElement("circle",{id:"oval2",fill:"#91D2FA",cx:"3",cy:"2",r:"2"})),i.createElement("g",{id:"grp3",opacity:"0",transform:"translate(52 28)"},i.createElement("circle",{id:"oval2",fill:"#9CD8C3",cx:"2",cy:"7",r:"2"}),i.createElement("circle",{id:"oval1",fill:"#8CE8C3",cx:"4",cy:"2",r:"2"})),i.createElement("g",{id:"grp2",opacity:"0",transform:"translate(44 6)"},i.createElement("circle",{id:"oval2",fill:"#CC8EF5",cx:"5",cy:"6",r:"2"}),i.createElement("circle",{id:"oval1",fill:"#CC8EF5",cx:"2",cy:"2",r:"2"})),i.createElement("g",{id:"grp5",opacity:"0",transform:"translate(14 50)"},i.createElement("circle",{id:"oval1",fill:"#91D2FA",cx:"6",cy:"5",r:"2"}),i.createElement("circle",{id:"oval2",fill:"#91D2FA",cx:"2",cy:"2",r:"2"})),i.createElement("g",{id:"grp4",opacity:"0",transform:"translate(35 50)"},i.createElement("circle",{id:"oval1",fill:"#F48EA7",cx:"6",cy:"5",r:"2"}),i.createElement("circle",{id:"oval2",fill:"#F48EA7",cx:"2",cy:"2",r:"2"})),i.createElement("g",{id:"grp1",opacity:"0",transform:"translate(24)"},i.createElement("circle",{id:"oval1",fill:"#9FC7FA",cx:"2.5",cy:"3",r:"2"}),i.createElement("circle",{id:"oval2",fill:"#9FC7FA",cx:"7.5",cy:"2",r:"2"}))))),i.createElement("div",{className:"like_button_count"},this.props.likes))}}]),t}(i.PureComponent)),Fe=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={postText:"",pictureLink:[]},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=window.location.pathname;e.includes("Profile")?this.props.requestPosts("Profile"):e.includes("Group")?this.props.requestPosts("Group"):"/"===e&&this.props.requestPosts("News")}},{key:"showAll",value:function(e){var t=document.getElementById(e).className;document.getElementById(e).className="wall_post_text"==t?"wall_post_text_cut":"wall_post_text"}},{key:"renderText",value:function(e,t){var n=this;return e.length>500?i.createElement("div",null,i.createElement("div",{id:t,className:"wall_post_text_cut"},e),i.createElement("button",{className:"btn btn-link",onClick:function(){return n.showAll(t)}},"Show all")):i.createElement("div",{className:"wall_post_text pl-2"},e)}},{key:"renderPosts",value:function(){var e=this;if(this.props.posts)return i.createElement("div",{className:"row justify-content-center"},i.createElement("div",{className:"px-1 col-12 col-lg-8 col-xl-8"},this.props.posts.map((function(t){var n,a=new Date(t.createDate);return n=a.toLocaleDateString()==(new Date).toLocaleDateString()?a.toLocaleTimeString():"".concat(a.toLocaleDateString()," ").concat(a.toLocaleTimeString()),i.createElement("div",{key:t.id,className:"post_content bg-white my-3 py-2 rounded shadow"},i.createElement(be.a,{to:t.link},i.createElement("div",{className:"post_header pl-4"},i.createElement("img",{src:t.avatar,alt:"",width:"50",height:"50",className:"img-avatar"}),i.createElement("div",{className:"post_header_info"},i.createElement("h5",{className:"post_author"},t.userId),i.createElement("div",{className:"post_date"},n)))),i.createElement("div",{className:"mt-3 pl-3"},e.renderText(t.postText,t.id),i.createElement("div",{className:"row ml-1 my-2"},t.pictureLink.map((function(e){return i.createElement(Ae,{link:e.pictureLink,id:e.id,key:e.id})}))),i.createElement(Te,{comments:t.comments}),i.createElement("div",{className:"row"},i.createElement(xe,{postId:t.id,sendComment:e.props.sendComment}),i.createElement(Le,{likes:t.likes,postId:t.id,isLiked:t.isLiked,sendLike:e.props.sendLike}))))}))))}},{key:"render",value:function(){return i.createElement("div",null,this.renderPosts())}}]),t}(i.PureComponent),Pe=Object(u.c)((function(e){return e.createPost}),Q)(Fe),Re=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={isAuthenticated:!1,user:void 0},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return i.createElement("div",null,i.createElement(Pe,null))}}]),t}(i.PureComponent),De=Object(u.c)()(Re),Ue=(n(96),n(64)),Me=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e)))._subscription=void 0,n.state={ready:!1,authenticated:!1},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._subscription=A.subscribe((function(){return e.authenticationChanged()})),this.populateAuthenticationState()}},{key:"componentWillUnmount",value:function(){A.unsubscribe(this._subscription)}},{key:"render",value:function(){var e=this.state,t=e.ready,n=e.authenticated,a=document.createElement("a");a.href=this.props.path;"".concat(a.protocol,"//").concat(a.host).concat(a.pathname).concat(a.search).concat(a.hash);if(t){var r=this.props,s=r.component,i=Object(Ue.a)(r,["component"]);return c.a.createElement(oe.b,Object.assign({},i,{render:function(e){return n?c.a.createElement(s,e):c.a.createElement(oe.a,{to:"/MyLogin"})}}))}return c.a.createElement("div",null)}},{key:"populateAuthenticationState",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.isAuthenticated();case 2:t=e.sent,this.setState({ready:!0,authenticated:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"authenticationChanged",value:function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({ready:!1,authenticated:!1}),e.next=3,this.populateAuthenticationState();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(i.Component),Ge=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={message:void 0},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.action;switch(e){case w:this.login(this.getReturnUrl(void 0));break;case N:this.processLoginCallback();break;case j:var t=new URLSearchParams(window.location.search).get(k);this.setState({message:t});break;case I:this.redirectToProfile();break;case S:this.redirectToRegister();break;default:throw new Error("Invalid action '".concat(e,"'"))}}},{key:"render",value:function(){var e=this.props.action,t=this.state.message;if(t)return c.a.createElement("div",null,t);switch(e){case w:return c.a.createElement("div",null,"Processing login");case N:return c.a.createElement("div",null,"Processing login callback");case I:case S:return c.a.createElement("div",null);default:throw new Error("Invalid action '".concat(e,"'"))}}},{key:"login",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={returnUrl:t},e.next=3,A.signIn(n);case 3:a=e.sent,e.t0=a.status,e.next=e.t0===L.Redirect?7:e.t0===L.Success?8:e.t0===L.Fail?11:13;break;case 7:return e.abrupt("break",14);case 8:return e.next=10,this.navigateToReturnUrl(t);case 10:return e.abrupt("break",14);case 11:return this.setState({message:a.message}),e.abrupt("break",14);case 13:throw new Error("Invalid status result ".concat(a.status,"."));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"processLoginCallback",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,e.next=3,A.completeSignIn(t);case 3:n=e.sent,e.t0=n.status,e.next=e.t0===L.Redirect?7:e.t0===L.Success?8:e.t0===L.Fail?11:13;break;case 7:throw new Error("Should not redirect.");case 8:return e.next=10,this.navigateToReturnUrl(this.getReturnUrl(n.state));case 10:return e.abrupt("break",14);case 11:return this.setState({message:n.message}),e.abrupt("break",14);case 13:throw new Error("Invalid authentication result status '".concat(n.status,"'."));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getReturnUrl",value:function(e){var t=new URLSearchParams(window.location.search).get(b);if(t&&!t.startsWith("".concat(window.location.origin,"/")))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return e&&e.returnUrl||t||"".concat(window.location.origin,"/")}},{key:"redirectToRegister",value:function(){this.redirectToApiAuthorizationPath("".concat(x.IdentityRegisterPath,"?").concat(b,"=").concat(encodeURI(x.Login)))}},{key:"redirectToProfile",value:function(){this.redirectToApiAuthorizationPath(x.IdentityManagePath)}},{key:"redirectToApiAuthorizationPath",value:function(e){var t="".concat(window.location.origin).concat(e);window.location.replace(t)}},{key:"navigateToReturnUrl",value:function(e){window.location.replace(e)}}]),t}(i.Component),Be=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={message:void 0,isReady:!1,authenticated:!1},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.action;switch(e){case O:window.history.state.state.local?this.logout(this.getReturnUrl(void 0)):this.setState({isReady:!0,message:"The logout was not initiated from within the page."});break;case y:this.processLogoutCallback();break;case _:this.setState({isReady:!0,message:"You successfully logged out!"});break;default:throw new Error("Invalid action '".concat(e,"'"))}this.populateAuthenticationState()}},{key:"render",value:function(){var e=this.state,t=e.isReady,n=e.message;if(!t)return c.a.createElement("div",null);if(n)return c.a.createElement("div",null,n);var a=this.props.action;switch(a){case O:return c.a.createElement("div",null,"Processing logout");case y:return c.a.createElement("div",null,"Processing logout callback");case _:return c.a.createElement("div",null,n);default:throw new Error("Invalid action '".concat(a,"'"))}}},{key:"logout",value:function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={returnUrl:t},e.next=3,A.isAuthenticated();case 3:if(!e.sent){e.next=20;break}return e.next=7,A.signOut(n);case 7:a=e.sent,e.t0=a.status,e.next=e.t0===L.Redirect?11:e.t0===L.Success?12:e.t0===L.Fail?15:17;break;case 11:return e.abrupt("break",18);case 12:return e.next=14,this.navigateToReturnUrl(t);case 14:return e.abrupt("break",18);case 15:return this.setState({message:a.message}),e.abrupt("break",18);case 17:throw new Error("Invalid authentication result status.");case 18:e.next=21;break;case 20:this.setState({message:"You successfully logged out!"});case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"processLogoutCallback",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,e.next=3,A.completeSignOut(t);case 3:n=e.sent,e.t0=n.status,e.next=e.t0===L.Redirect?7:e.t0===L.Success?8:e.t0===L.Fail?11:13;break;case 7:throw new Error("Should not redirect.");case 8:return e.next=10,this.navigateToReturnUrl(this.getReturnUrl(n.state));case 10:return e.abrupt("break",14);case 11:return this.setState({message:n.message}),e.abrupt("break",14);case 13:throw new Error("Invalid authentication result status.");case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"populateAuthenticationState",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.isAuthenticated();case 2:t=e.sent,this.setState({isReady:!0,authenticated:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getReturnUrl",value:function(e){var t=new URLSearchParams(window.location.search).get(b);if(t&&!t.startsWith("".concat(window.location.origin,"/")))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return e&&e.returnUrl||t||"".concat(window.location.origin).concat(x.LoggedOut)}},{key:"navigateToReturnUrl",value:function(e){return window.location.replace(e)}}]),t}(i.Component),Ve=function(e){function t(){return Object(E.a)(this,t),Object(le.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return c.a.createElement(i.Fragment,null,c.a.createElement(oe.b,{path:x.Login,render:function(){return qe(w)}}),c.a.createElement(oe.b,{path:x.LoginFailed,render:function(){return qe(j)}}),c.a.createElement(oe.b,{path:x.LoginCallback,render:function(){return qe(N)}}),c.a.createElement(oe.b,{path:x.Profile,render:function(){return qe(I)}}),c.a.createElement(oe.b,{path:x.Register,render:function(){return qe(S)}}),c.a.createElement(oe.b,{path:x.LogOut,render:function(){return ze(O)}}),c.a.createElement(oe.b,{path:x.LogOutCallback,render:function(){return ze(y)}}),c.a.createElement(oe.b,{path:x.LoggedOut,render:function(){return ze(_)}}))}}]),t}(i.Component);function qe(e){return c.a.createElement(Ge,{action:e})}function ze(e){return c.a.createElement(Be,{action:e})}n(38);var We=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).handleSubmit=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.props.request(n.state.Email,n.state.Password,!0,"Login");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={Email:"",Password:"",RememberMe:!1,message:void 0},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"handleChangeEmail",value:function(e){this.setState({Email:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({Password:e.target.value})}},{key:"render",value:function(){return c.a.createElement("div",{className:"bg-white row col-md-6 col-xs-6 col-xl-4 col-12 justify-content-center mx-auto my-5 py-2 rounded shadow"},c.a.createElement("div",{className:"auth__group field col-12 my-1"},c.a.createElement("input",{type:"email",className:"auth__field",value:this.state.Email,required:!0,onChange:this.handleChangeEmail.bind(this),id:"email"}),c.a.createElement("label",{htmlFor:"Input.Email",className:"auth__label"},"Email")),c.a.createElement("div",{className:"auth__group field col-12 my-1"},c.a.createElement("input",{type:"password",value:this.state.Password,className:"auth__field",required:!0,onChange:this.handleChangePassword.bind(this),id:"password"}),c.a.createElement("label",{htmlFor:"Input.Password",className:"auth__label"},"Password")),this.props.isLoading,c.a.createElement("div",{className:"auth_send col-12",onClick:this.handleSubmit.bind(this)},c.a.createElement("span",{className:"noselect"},"Login"),c.a.createElement("div",{id:"circle"})),c.a.createElement("p",null,this.props.status),this.props.isLoading)}}]),t}(c.a.PureComponent),Qe=Object(u.c)((function(e){return e.loginForm}),F)(We),Ke=function(e){return i.createElement("div",null,"Not Found")},He=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).handleSubmit=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),"https://localhost:5001/",n.state.ConfirmPassword===n.state.Password&&(n.props.request(n.state.Email,n.state.Password,!0,"Register"),A.signIn({returnUrl:"https://localhost:5001/"}),window.location.replace("https://localhost:5001/"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={Email:"",Password:"",ConfirmPassword:"",state:""},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"handleChangeEmail",value:function(e){this.setState({Email:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({Password:e.target.value})}},{key:"handleChangeConfirmPassword",value:function(e){this.setState({ConfirmPassword:e.target.value})}},{key:"render",value:function(){return c.a.createElement("div",{className:"bg-white row col-md-6 col-xs-6 col-xl-4 col-12 justify-content-center mx-auto my-5 py-2 rounded shadow"},c.a.createElement("div",{className:"auth__group field col-12 my-1"},c.a.createElement("input",{type:"email",className:"auth__field",value:this.state.Email,required:!0,onChange:this.handleChangeEmail.bind(this),id:"email"}),c.a.createElement("label",{htmlFor:"Input.Email",className:"auth__label"},"Email")),c.a.createElement("div",{className:"auth__group field col-12 my-1"},c.a.createElement("input",{type:"password",value:this.state.Password,className:"auth__field",required:!0,onChange:this.handleChangePassword.bind(this),id:"password"}),c.a.createElement("label",{htmlFor:"Input.Password",className:"auth__label"},"Password")),c.a.createElement("div",{className:"auth__group field col-12 my-1"},c.a.createElement("input",{type:"password",value:this.state.ConfirmPassword,className:"auth__field",required:!0,onChange:this.handleChangeConfirmPassword.bind(this),id:"Confirmpassword"}),c.a.createElement("label",{className:"auth__label"},"Confirm password")),c.a.createElement("div",{className:"auth_send col-12",onClick:this.handleSubmit.bind(this)},c.a.createElement("span",{className:"noselect"},"Register"),c.a.createElement("div",{id:"circle"})),this.props.isLoading)}}]),t}(c.a.PureComponent),Je=Object(u.c)((function(e){return e.loginForm}),F)(He),Xe=function(e){return i.createElement("div",null,"You successfully confirmed email. Please, log in.")},Ye=function(e){return i.createElement("div",null,"BadConfirmEmail")},$e=n(48),Ze=n.n($e),et=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).fileInput=void 0,n.fileInput=i.createRef(),n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.onImageChange)}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.upload(this.fileInput.current.files[0])}},{key:"upload",value:function(e){if(e&&e.type.match(/image.*/)){var t=new FormData;t.append("image",e),t.append("title","stepa123"),t.append("client_secret","bda650e874b80220bab96aa22c383a5e4581cead");var n=new XMLHttpRequest;console.log("upload"),n.open("POST","https://api.imgur.com/3/image"),n.setRequestHeader("Authorization","Client-ID 1337b94d530e99b");var a=this;console.log("upload"),n.onload=function(){console.log("UPLODAD2"),a.props.onImageChange(JSON.parse(n.responseText).data.link),Ze()("#cartinka").empty(),Ze()("#cartinka").append('<img class="img-thumbnail w-25 h-25" alt="smaple image" src="'+JSON.parse(n.responseText).data.link+'" />')},console.log("UPLODAD1"),n.send(t)}}},{key:"renderInput",value:function(){return i.createElement("div",{className:"box"},i.createElement("input",{type:"file",id:this.props.id,className:"inputfile inputfile-1",onChange:this.handleSubmit.bind(this),ref:this.fileInput}),i.createElement("label",{htmlFor:this.props.id},i.createElement(Oe.a,{icon:_e.d}),i.createElement("span",{className:"text"},"Choose file"),i.createElement("div",{id:"circle"})))}},{key:"render",value:function(){return i.createElement("div",null,this.renderInput())}}]),t}(i.Component),tt=(n(97),function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={postText:"",pictureLink:[]},n.handleInputChange=n.handleInputChange.bind(Object(Ce.a)(n)),n.handleInputFileChange=n.handleInputFileChange.bind(Object(Ce.a)(n)),n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){window.location.pathname.includes("Profile")?this.props.requestPosts("Profile"):this.props.requestPosts("Group")}},{key:"handleInputFileChange",value:function(e){this.setState((function(t){return Object(p.a)({},t,{pictureLink:[].concat(Object(V.a)(t.pictureLink),[e])})}))}},{key:"handleInputChange",value:function(e){this.setState({postText:e.target.value})}},{key:"renderCreatePost",value:function(){if(window.location.pathname.includes("Profile")){if(null!=this.props.user)return this.props.user.isAuthor?i.createElement("div",{className:"form__group_post field rounded shadow bg-white px-5"},i.createElement("textarea",{className:"form__field_post",placeholder:"Name",name:"name",required:!0,onChange:this.handleInputChange,value:this.state.postText}),i.createElement("label",{className:"form__label_post"},"Send post"),i.createElement("div",{className:"d-flex"},i.createElement("div",{className:"btn_send_post",onClick:this.sendPost.bind(this)},i.createElement("span",{className:"noselect"},"Send"),i.createElement("div",{id:"circle"})),i.createElement(et,{onImageChange:this.handleInputFileChange,id:"post",key:"post"})),this.state.pictureLink!=[]?this.state.pictureLink.map((function(e,t){return i.createElement(Ae,{link:e,id:t.toString()})})):i.createElement("div",null)):i.createElement("div",null)}else if(null!=this.props.group)return i.createElement("div",{className:"form__group_post field rounded shadow bg-white px-5"},i.createElement("textarea",{className:"form__field_post",placeholder:"Name",name:"name",required:!0,onChange:this.handleInputChange,value:this.state.postText}),i.createElement("label",{className:"form__label_post"},"Send post"),i.createElement("div",{className:"d-flex"},i.createElement("div",{className:"btn_send_post",onClick:this.sendPost.bind(this)},i.createElement("span",{className:"noselect"},"Send"),i.createElement("div",{id:"circle"})),i.createElement(et,{id:"post",onImageChange:this.handleInputFileChange})))}},{key:"sendPost",value:function(e){window.location.pathname.includes("Profile")?(this.props.sendPost(this.state.postText,this.state.pictureLink),this.setState({postText:"",pictureLink:[]})):(this.props.sendPost(this.state.postText,this.state.pictureLink,this.props.group.id),this.setState({postText:"",pictureLink:[]}))}},{key:"render",value:function(){return i.createElement("div",null,this.renderCreatePost())}}]),t}(i.PureComponent)),nt=Object(u.c)((function(e){return e.createPost}),Q)(tt),at=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={pictureLinks:[]},n.handleInputFileChange=n.handleInputFileChange.bind(Object(Ce.a)(n)),n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"handleInputFileChange",value:function(e){console.log("PHOTO FILE: ",e),this.setState((function(t){return Object(p.a)({},t,{pictureLinks:[].concat(Object(V.a)(t.pictureLinks),[e])})}))}},{key:"componentDidMount",value:function(){this.props.requestAlbum()}},{key:"renderAlbum",value:function(){if(this.props.pictures!=[])return i.createElement("div",null,this.props.pictures.map((function(e,t){return i.createElement("div",{className:"image_album my-2",key:t},i.createElement(Ae,{link:e.pictureLink,id:t.toString(),key:t}))})))}},{key:"renderStateAlbum",value:function(){if(this.state.pictureLinks!=[])return this.state.pictureLinks.map((function(e,t){return i.createElement("div",{className:"image_album p-3",key:e},i.createElement(Ae,{link:e,id:t.toString(),key:t}))}))}},{key:"addToAlbum",value:function(e){this.props.addToAlbum(this.state.pictureLinks),this.setState({pictureLinks:[]})}},{key:"renderCreatePost",value:function(){return this.props.isAuthor?i.createElement("div",{className:"d-flex p-2"},i.createElement("div",{className:"btn_send_post",id:"photo",onClick:this.addToAlbum.bind(this)},i.createElement("span",{className:"noselect"},"Add photo to album"),i.createElement("div",{id:"circle"})),i.createElement(et,{onImageChange:this.handleInputFileChange,id:"photo",key:"photo"})):i.createElement("div",null)}},{key:"render",value:function(){return this.props.isAuthor||this.props.pictures!=[]?i.createElement("div",null,this.renderCreatePost(),this.renderAlbum(),i.createElement("div",null,this.renderStateAlbum())):i.createElement("div",null)}}]),t}(i.PureComponent),rt=Object(u.c)((function(e){return e.photoAlbum}),H)(at),st=(n(98),function(e){function t(){return Object(E.a)(this,t),Object(le.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return this.props.listOfFrfiends.map((function(e){var t=0==e.firstName.length?"Name":e.firstName;return i.createElement("div",{className:"people_cell",key:e.id},i.createElement(be.a,{to:"/Profile/".concat(e.id)},i.createElement("img",{src:e.avatar,height:"50",width:"50",className:"img-avatar",alt:""}),i.createElement("div",{className:"people_cell_name"},t)))}))}}]),t}(i.Component)),it=function(e){function t(){return Object(E.a)(this,t),Object(le.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.ensureDataFetched()}},{key:"componentDidUpdate",value:function(){null!==this.props.user&&this.props.user.id!==this.props.match.params.userId&&this.ensureDataFetched()}},{key:"ensureDataFetched",value:function(){this.props.requestProfile(this.props.match.params.userId),this.props.requestFriends(this.props.match.params.userId)}},{key:"renderUser",value:function(){return null!==this.props.user?i.createElement("div",null,i.createElement("div",{className:"row justify-content-center"},i.createElement("div",{className:"page_block rounded shadow bg-white py-2 mb-3 col-6 col-lg-4 col-xl-5 align-self-start ml-3"},i.createElement(Ae,{link:this.props.user.avatar,id:this.props.user.id}),this.props.user.isAuthor?i.createElement("div",{className:"text-center"},i.createElement(be.a,{to:"/EditProfile"},i.createElement("div",{className:"btn_send_profile"},i.createElement("span",{className:"noselect"},"Edit Profile"),i.createElement("div",{id:"circle"}))),i.createElement(be.a,{to:"/CreateGroup"},i.createElement("div",{className:"btn_send_profile"},i.createElement("span",{className:"noselect"},"CreateGroup"),i.createElement("div",{id:"circle"})))):i.createElement("div",{className:"text-center"},i.createElement(be.a,{to:"/Dialog/".concat(this.props.user.id)},i.createElement("div",{className:"btn_send_profile"},i.createElement("span",{className:"noselect"},"Chat now!"),i.createElement("div",{id:"circle"}))))),i.createElement("div",{className:"col-6 col-lg-4 col-xl-5 div_info mb-5"},i.createElement("div",{className:"rounded shadow bg-white p-2"},i.createElement("h5",null,this.props.user.firstName," ",this.props.user.secondName),i.createElement("p",null,"City: ",this.props.user.city),i.createElement("p",null,"Coutnry: ",this.props.user.country),i.createElement("p",null,"Date of birth: ",this.props.user.dateOfBirth.toUTCString),i.createElement("p",null,"Languages: ",this.props.user.languages),i.createElement("p",null,"Family status: ",this.props.user.familyStatus)),i.createElement("div",{className:"rounded shadow bg-white p-2 mt-3 subs"},i.createElement("h5",null,"Subscribers:"),i.createElement(st,{listOfFrfiends:this.props.listOfFriends})))),i.createElement("div",{className:"row justify-content-center"},i.createElement("div",{className:"col-12 col-lg-8 col-xl-8 px-1 mb-3 bg-white rounded"},i.createElement(rt,null))),i.createElement("div",{className:"row justify-content-center"},i.createElement("div",{className:"col-12 col-lg-8 col-xl-8 px-1"},i.createElement(nt,null))),i.createElement("div",null,i.createElement(Pe,null))):i.createElement("div",null)}},{key:"render",value:function(){return i.createElement(i.Fragment,null,this.props.isLoading,this.renderUser())}}]),t}(i.PureComponent),ct=Object(u.c)((function(e){return e.profile}),R)(it),ot=n(31),ut=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).handleSubmit=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.props.postEditProfile(n.state.user);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={user:n.props.user,isLoading:i.createElement("div",null)},n.handleInputChange=n.handleInputChange.bind(Object(Ce.a)(n)),n.handleInputFileChange=n.handleInputFileChange.bind(Object(Ce.a)(n)),n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.getEditProfile(),this.setState({user:this.props.user})}},{key:"handleInputFileChange",value:function(e){console.log("FILE: ",e),this.setState((function(t){var n=t.user;return{user:Object(p.a)({},n,{avatar:e})}}))}},{key:"handleInputChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState((function(e){var t=e.user;return{user:Object(p.a)({},t,Object(ot.a)({},a,n))}}))}},{key:"render",value:function(){var e=new Date(this.state.user.dateOfBirth),t=[e.getDate().toString(),(e.getMonth()+1).toString()];for(var n in t)t[n]=t[n].toString().replace(/^([0-9])$/,"0$1");return i.createElement(i.Fragment,null,i.createElement("div",{className:"bg-white row col-md-6 col-xs-6 col-xl-4 col-12 justify-content-center mx-auto my-5 py-2 rounded shadow"},i.createElement("div",{className:"auth__group field col-12 my-1"},i.createElement(Ae,{link:this.state.user.avatar,id:"cartinka"})),i.createElement("div",{className:"auth__group field col-12 my-1"},i.createElement("label",{htmlFor:"Input.FirstName",className:"auth__label"},"First Name"),i.createElement("input",{type:"text",name:"firstName",value:this.state.user.firstName,className:"auth__field",required:!0,onChange:this.handleInputChange})),i.createElement("div",{className:"auth__group field col-12 my-1"},i.createElement("label",{htmlFor:"Input.SecondName",className:"auth__label"},"Second Name"),i.createElement("input",{type:"text",name:"secondName",value:this.state.user.secondName,className:"auth__field",required:!0,onChange:this.handleInputChange})),i.createElement("div",{className:"auth__group field col-12 my-1"},i.createElement("label",{htmlFor:"Input.Country",className:"auth__label"},"Country"),i.createElement("input",{type:"text",name:"country",value:this.state.user.country,className:"auth__field",required:!0,onChange:this.handleInputChange})),i.createElement("div",{className:"auth__group field col-12 my-1"},i.createElement("label",{htmlFor:"Input.City",className:"auth__label"},"City"),i.createElement("input",{type:"text",name:"city",value:this.state.user.city,className:"auth__field",required:!0,onChange:this.handleInputChange})),i.createElement("div",{className:"auth__group field col-12 my-1"},i.createElement("label",{htmlFor:"Input.FamilyStatus",className:"auth__label"},"Family Status"),i.createElement("input",{type:"text",name:"familyStatus",value:this.state.user.familyStatus,className:"auth__field",required:!0,onChange:this.handleInputChange})),i.createElement("div",{className:"auth__group field col-12 my-1"},i.createElement("label",{htmlFor:"Input.Languages",className:"auth__label"},"Languages"),i.createElement("input",{type:"text",name:"languages",value:this.state.user.languages,className:"auth__field",required:!0,onChange:this.handleInputChange})),i.createElement(et,{id:"edit",onImageChange:this.handleInputFileChange}),i.createElement("div",{className:"auth__group field col-12 my-1"},i.createElement("label",{htmlFor:"Input.DateOfBirth",className:"auth__label"},"Date Of Birth"),i.createElement("input",{type:"date",name:"dateOfBirth",pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",value:e.getFullYear()+"-"+t[1]+"-"+t[0],className:"auth__field",required:!0,onChange:this.handleInputChange})),this.props.status,i.createElement("div",{className:"btn_send",onClick:this.handleSubmit.bind(this)},i.createElement("span",{className:"noselect"},"Send"),i.createElement("div",{id:"circle"})),this.state.isLoading))}}]),t}(i.PureComponent),lt=Object(u.c)((function(e){return e.editProfile}),U)(ut),dt=(n(99),function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={isFriend:n.props.isFriend},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){}},{key:"renderButton",value:function(){return this.state.isFriend?i.createElement("div",{className:"btn_send_friend link",onClick:this.addDeleteFriend.bind(this)},i.createElement("span",{className:"noselect"},"Unsubscribe"),i.createElement("div",{id:"circle"})):i.createElement("div",{className:"btn_send_friend link",onClick:this.addDeleteFriend.bind(this)},i.createElement("span",{className:"noselect"},"Subscribe"),i.createElement("div",{id:"circle"}))}},{key:"addDeleteFriend",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getAccessToken();case 2:t=e.sent,fetch("api/friends/addDeleteFriend?friendId=".concat(this.props.friend.id),{method:"POST",headers:t?{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer ".concat(t)}:{}}).then((function(e){e.ok&&n.setState({isFriend:!n.state.isFriend})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.createElement(i.Fragment,null,i.createElement("div",null,i.createElement("div",{className:"post_content mx-sm-5"},i.createElement("div",{className:"post_header"},i.createElement("img",{src:this.props.friend.avatar,alt:"",width:"50",height:"50",className:"img-avatar"}),i.createElement("div",{className:"post_header_info"},i.createElement("h5",{className:"post_author"},"".concat(this.props.friend.firstName," ").concat(this.props.friend.secondName)),i.createElement("div",{className:"post_date"},this.props.friend.dateOfBirth.toUTCString)))),this.renderButton(),i.createElement("div",{className:"link"},i.createElement(be.a,{to:"/Profile/".concat(this.props.friend.id)},i.createElement("div",{className:"btn_send_friend"},i.createElement("span",{className:"noselect"},"Watch profile"),i.createElement("div",{id:"circle"})))),i.createElement("div",{className:"link mb-2"},i.createElement(be.a,{to:"/Dialog/".concat(this.props.friend.id)},i.createElement("div",{className:"btn_send_friend"},i.createElement("span",{className:"noselect"},"Chat now!"),i.createElement("div",{id:"circle"}))))))}}]),t}(i.PureComponent)),pt=function(e){function t(){return Object(E.a)(this,t),Object(le.a)(this,Object(de.a)(t).apply(this,arguments))}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.ensureDataFetched()}},{key:"ensureDataFetched",value:function(){this.props.requestFriends(),this.props.requestNotFriends()}},{key:"renderListOfFriends",value:function(){return this.props.listOfFriends==[]?void 0:this.props.listOfFriends.map((function(e){return i.createElement(dt,{key:e.id,friend:e,isFriend:!0})}))}},{key:"renderListOfNotFriends",value:function(){return this.props.listOfNotFriends==[]?void 0:this.props.listOfNotFriends.map((function(e){return i.createElement(dt,{key:e.id,friend:e,isFriend:!1})}))}},{key:"render",value:function(){return i.createElement(i.Fragment,null,i.createElement("div",{className:"bg-white"},i.createElement("div",{className:"border-bottom border-dark"},this.renderListOfFriends()),this.renderListOfNotFriends()))}}]),t}(i.PureComponent),mt=Object(u.c)((function(e){return e.friends}),B)(pt),ht=(n(58),function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).componentDidMount=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({toUserId:n.props.match.params.toUserId}),n.props.requestDialog(n.props.match.params.toUserId);case 2:case"end":return e.stop()}}),e)}))),n.state={toUserId:"",message:""},n.handleInputChange=n.handleInputChange.bind(Object(Ce.a)(n)),n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"handleInputChange",value:function(e){this.setState({message:e.target.value})}},{key:"sendMessage",value:function(e){this.props.sendMessage(this.state.toUserId,this.state.message),this.setState({message:""})}},{key:"componentDidUpdate",value:function(){window.scrollTo(0,document.querySelector("#dialog").scrollHeight)}},{key:"render",value:function(){var e=this;return i.createElement("div",{onLoad:function(){return window.scrollTo(0,document.querySelector("#dialog").scrollHeight)}},i.createElement("div",{id:"dialog"},this.props.dialog.map((function(t){var n,a=new Date(t.createDate);n=a.toLocaleDateString()==(new Date).toLocaleDateString()?a.toLocaleTimeString():"".concat(a.toLocaleDateString()," ").concat(a.toLocaleTimeString());var r="";return 0==t.isViewed&&(r="bg-secondary",t.withWhomId!=e.props.withWhomId&&void 0!=t.withWhomId&&e.props.recieveMessage(t)),i.createElement("div",{key:t.id,id:t.id,className:"dialog_content_message mx-auto ".concat(r),onLoad:function(){return setTimeout((function(){null!=document.getElementById(t.id)&&(document.getElementById(t.id).className="dialog_content_message mx-auto")}),5e3)}},i.createElement("div",{className:"dialog_header"},i.createElement("img",{src:t.avatar,alt:"",width:"50",height:"50",className:"img-avatar"}),i.createElement("div",{className:"dialog_header_info"},i.createElement("h5",{className:"dialog_author"},t.firstUserId,i.createElement("div",{className:"dialog_date"},n)),i.createElement("div",{className:"message_text "},t.message))))}))),i.createElement("div",{className:"fixed-bottom form__group_post_message field rounded shadow bg-white px-2 row col-xl-5 col-lg-8 col-md-10 col-12 mx-auto mb-xl-5"},i.createElement("div",{className:"col-10 col-sm-9 col-md-9 pl-4"},i.createElement("label",{className:"form__label_post_message"},"Send message"),i.createElement("textarea",{className:"form__field_post_message",placeholder:"Name",name:"name",required:!0,onChange:this.handleInputChange,value:this.state.message})),i.createElement("div",{className:"col-1 my-auto"},i.createElement("div",{className:"btn_send_post",onClick:this.sendMessage.bind(this)},i.createElement("span",{className:"noselect"},"Send"),i.createElement("div",{id:"circle"})))))}}]),t}(i.PureComponent)),ft=Object(u.c)((function(e){return e.dialog}),z)(ht),Et=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).componentDidMount=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getAccessToken();case 2:t=e.sent,fetch("api/getDialogs",{headers:t?{Authorization:"Bearer ".concat(t)}:{}}).then((function(e){return e.ok?e.json():[]})).then((function(e){n.setState({dialogs:e})}));case 4:case"end":return e.stop()}}),e)}))),n.state={dialogs:[]},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"renderDialogs",value:function(){if(null!=this.state.dialogs)return this.state.dialogs.map((function(e){var t,n=new Date(e.createDate);t=n.toLocaleDateString()==(new Date).toLocaleDateString()?n.toLocaleTimeString():"".concat(n.toLocaleDateString()," ").concat(n.toLocaleTimeString());var a=0!=e.count?e.count:"";return i.createElement("div",{key:e.id,className:"dialog_content mx-auto"},i.createElement(be.a,{to:"/Dialog/".concat(e.id)},i.createElement("div",{className:"dialog_header"},i.createElement("img",{src:e.avatar,alt:"",width:"50",height:"50",className:"img-avatar"}),i.createElement("div",{className:"dialog_header_info"},i.createElement("h5",{className:"dialog_author"},"".concat(e.firstName," ").concat(e.secondName),i.createElement("div",{className:"dialog_date"},t)," "),i.createElement("div",{id:e.id,className:"message"},i.createElement("span",{className:"badge badge-pill badge-warning"},a)," ",e.message)))))}))}},{key:"render",value:function(){return i.createElement("div",{className:"mt-2 "},this.renderDialogs())}}]),t}(i.PureComponent),gt=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).handleSubmit=function(){var e=Object(s.a)(r.a.mark((function e(t){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={avatarLink:n.state.group.avatarLink,name:n.state.group.name,description:n.state.group.description},window.location.pathname.includes("CreateGroup")?(n.props.request(a,"createGroup"),window.location.replace("ListOfGroups")):(s=Object(p.a)({},a,{id:n.props.group.id}),n.props.request(s,"editMainInfoGroup"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={group:n.props.group},n.handleInputChange=n.handleInputChange.bind(Object(Ce.a)(n)),n.handleInputFileChange=n.handleInputFileChange.bind(Object(Ce.a)(n)),n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){null!=this.props.match.params.id&&this.props.getGroup(this.props.match.params.id)}},{key:"handleInputFileChange",value:function(e){this.setState((function(t){var n=t.group;return{group:Object(p.a)({},n,{avatarLink:e})}}))}},{key:"handleInputChange",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState((function(e){var t=e.group;return{group:Object(p.a)({},t,Object(ot.a)({},a,n))}}))}},{key:"renderForm",value:function(){return i.createElement("div",{className:"bg-white row col-md-6 col-xs-6 col-xl-4 col-12 justify-content-center mx-auto my-5 py-2 rounded shadow"},i.createElement("div",null,i.createElement(Ae,{link:this.state.group.avatarLink,id:"asd"})),i.createElement("div",{className:"auth__group field col-12 my-1"},i.createElement("label",{className:"auth__label"},"Name"),i.createElement("input",{type:"text",name:"name",value:this.state.group.name,className:"auth__field",required:!0,onChange:this.handleInputChange})),i.createElement("div",{className:"auth__group field col-12 my-1"},i.createElement("label",{className:"auth__label"},"Description"),i.createElement("input",{type:"text",name:"description",value:this.state.group.description,className:"auth__field",required:!0,onChange:this.handleInputChange})),i.createElement("div",{className:"col-12"},i.createElement(et,{id:"group",onImageChange:this.handleInputFileChange})),i.createElement("div",{className:"btn_send",onClick:this.handleSubmit.bind(this)},i.createElement("span",{className:"noselect"},"Create"),i.createElement("div",{id:"circle"})))}},{key:"render",value:function(){return i.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent),vt=Object(u.c)((function(e){return e.group}),X)(gt),bt=function(e){function t(e){return Object(E.a)(this,t),Object(le.a)(this,Object(de.a)(t).call(this,e))}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.getListOfSubscribers(this.props.group.id)}},{key:"renderAdminList",value:function(){var e=this;return this.props.admins.map((function(t){var n=0==t.firstName.length?"Name":t.firstName;return i.createElement("div",{className:"people_cell",key:t.id},i.createElement(be.a,{to:"/Profile/".concat(t.id)},i.createElement("img",{src:t.avatar,height:"50",width:"50",className:"img-avatar",alt:""}),i.createElement("div",{className:"people_cell_name"},n)),e.renderMakeAdminBtn("Unadmin",e.props.group.id,t.id))}))}},{key:"renderUserList",value:function(){var e=this;return this.props.users.map((function(t){var n=0==t.firstName.length?"Name":t.firstName;return i.createElement("div",{className:"people_cell",key:t.id},i.createElement(be.a,{to:"/Profile/".concat(t.id)},i.createElement("img",{src:t.avatar,height:"50",width:"50",className:"img-avatar",alt:""}),i.createElement("div",{className:"people_cell_name"},n)),e.renderMakeAdminBtn("Admin",e.props.group.id,t.id))}))}},{key:"renderMakeAdminBtn",value:function(e,t,n){var a=this;if(this.props.isAuthor)return i.createElement("div",{className:"btn btn-primary btn-sm",onClick:function(){a.props.request({groupId:t,userId:n},"ChangeGroupAdmin"),a.render()}},e)}},{key:"render",value:function(){return i.createElement("div",null,i.createElement("div",{className:"row justify-content-center"},i.createElement("div",{className:"rounded shadow bg-white p-2 mt-3 subs col-12 col-lg-8 col-xl-8 px-1"},i.createElement("h5",null,"Admins:"),this.renderAdminList())),i.createElement("div",{className:"row justify-content-center"},i.createElement("div",{className:"rounded shadow bg-white p-2 mt-3 subs col-12 col-lg-8 col-xl-8 px-1 mb-3"},i.createElement("h5",null,"Subscribers:"),this.renderUserList())))}}]),t}(i.PureComponent),kt=Object(u.c)((function(e){return e.group}),X)(bt),yt=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).state={subscribed:!1},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getAccessToken();case 2:t=e.sent,fetch("api/isSubscribed?groupId=".concat(this.props.groupId),{headers:t?{Authorization:"Bearer ".concat(t)}:{}}).then((function(e){if(e.ok)return e.json()})).then((function(e){n.setState((function(t){return Object(p.a)({},t,{subscribed:e})}))}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"subscribe",value:function(){var e=Object(s.a)(r.a.mark((function e(){var t,n=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getAccessToken();case 2:t=e.sent,fetch("api/subscribe?groupId=".concat(this.props.groupId),{headers:t?{Authorization:"Bearer ".concat(t)}:{}}).then((function(e){e.ok&&n.setState((function(e){return Object(p.a)({},e,{subscribed:!e.subscribed})}))}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.createElement("div",null,this.state.subscribed?i.createElement("div",{className:"btn_send_friend",onClick:this.subscribe.bind(this)},i.createElement("span",{className:"noselect"},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"),i.createElement("div",{id:"circle"})):i.createElement("div",{className:"btn_send_friend",onClick:this.subscribe.bind(this)},i.createElement("span",{className:"noselect"},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"),i.createElement("div",{id:"circle"})))}}]),t}(i.PureComponent),Ot=(n(100),function(e){function t(e){return Object(E.a)(this,t),Object(le.a)(this,Object(de.a)(t).call(this,e))}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.getGroup(this.props.match.params.id)}},{key:"renderGroup",value:function(){if(""!=this.props.group.id)return i.createElement("div",null,i.createElement("div",{className:"row justify-content-center"},i.createElement("div",{key:this.props.group.id,className:"bg-white col-12 col-lg-8 col-xl-8 px-1 border border-top border-bottom"},i.createElement("div",{className:"group_content"},i.createElement("div",{className:"group_header"},i.createElement("img",{src:this.props.group.avatarLink,alt:"",width:"50",height:"50",className:"img-avatar"}),i.createElement("div",{className:"group_header_info"},i.createElement("h5",{className:"group_author"},this.props.group.name,i.createElement("div",{className:"group_date absolute"},i.createElement(yt,{groupId:this.props.group.id}),this.renderAuthView())),i.createElement("p",null,this.props.group.description)))))),i.createElement(kt,null),this.renderAdminView(),i.createElement(Pe,null))}},{key:"renderAuthView",value:function(){if(this.props.isAuthor)return i.createElement("div",null,i.createElement(be.a,{to:"/EditGroup/".concat(this.props.group.id)},i.createElement("div",{className:"d-flex"},i.createElement("div",{className:"btn_send_friend"},i.createElement("span",{className:"noselect"},"Edit group"),i.createElement("div",{id:"circle"})))))}},{key:"renderAdminView",value:function(){if(this.props.isAdmin)return i.createElement("div",{className:"row justify-content-center"},i.createElement("div",{className:"col-12 col-lg-8 col-xl-8 px-1"},i.createElement(nt,null)))}},{key:"render",value:function(){return i.createElement("div",null,this.renderGroup())}}]),t}(i.PureComponent)),_t=Object(u.c)((function(e){return e.group}),X)(Ot),wt=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(le.a)(this,Object(de.a)(t).call(this,e))).componentDidMount=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getAccessToken();case 2:t=e.sent,fetch("api/getListOfSubGroups",{headers:t?{Authorization:"Bearer ".concat(t)}:{}}).then((function(e){return e.ok?e.json():{subGroups:[],notSubGroups:[]}})).then((function(e){n.setState({subGroups:e.listOfSubGroups,notSubGroups:e.listOfNotSubGroups})}));case 4:case"end":return e.stop()}}),e)}))),n.state={subGroups:void 0,notSubGroups:void 0},n}return Object(pe.a)(t,e),Object(g.a)(t,[{key:"renderGroups",value:function(e){if(null!=this.state.subGroups||null!=this.state.notSubGroups)return(1==e?this.state.subGroups:this.state.notSubGroups).map((function(e){return i.createElement("div",{key:e.id,className:"bg-white col-12 border border-top border-bottom"},i.createElement("div",{className:"post_content mx-sm-5"},i.createElement("div",{className:"post_header"},i.createElement("img",{src:e.avatarLink,alt:"",width:"50",height:"50",className:"img-avatar"}),i.createElement("div",{className:"post_header_info"},i.createElement("h5",{className:"post_author"},e.name)))),i.createElement("div",{className:"mt-3 ml-5"},i.createElement(yt,{groupId:e.id})),i.createElement(be.a,{to:"/Group/".concat(e.id)},i.createElement("div",{className:"btn_send_friend ml-5"},i.createElement("span",{className:"noselect"},"Go to group"),i.createElement("div",{id:"circle"}))))}))}},{key:"render",value:function(){return i.createElement("div",{className:"row justify-content-center"},i.createElement("div",{className:"border-top border-bottom border-black col-8"},this.renderGroups(!0)),i.createElement("div",{className:"border-top border-bottom  border-black col-8"},this.renderGroups(!1)))}}]),t}(i.PureComponent),Nt=document.getElementsByTagName("base")[0].getAttribute("href"),jt=Object(d.a)({basename:Nt});function It(){return(It=Object(s.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.isAuthenticated();case 2:return t=e.sent,e.next=5,A.getUser();case 5:n=e.sent,t.valueOf()&&ie(St),t.valueOf()&&St.dispatch({type:"GET_NUMBER_OF_UNREAD_DIALOGS",id:n.sub});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var St=function(e,t){var n=[h.a,Object(f.a)(e),ce],a=Object(m.c)(Object(p.a)({},ne,{router:Object(l.b)(e)})),r=[],s="undefined"===typeof window?null:window;return s&&s.__REDUX_DEVTOOLS_EXTENSION__&&r.push(s.__REDUX_DEVTOOLS_EXTENSION__()),Object(m.e)(a,t,m.d.apply(void 0,[m.a.apply(void 0,n)].concat(r)))}(jt);!function(){It.apply(this,arguments)}(),o.render(i.createElement(u.a,{store:St},i.createElement(l.a,{history:jt},i.createElement((function(){return i.createElement(Se,null,i.createElement(oe.b,{exact:!0,path:"/",component:De}),i.createElement(oe.b,{path:"/MyLogin",component:Qe}),i.createElement(oe.b,{path:"/MyRegister",component:Je}),i.createElement(oe.b,{path:x.ApiAuthorizationPrefix,component:Ve}),i.createElement(oe.b,{path:"/notfound",component:Ke}),i.createElement(oe.b,{path:"/BadConfirmEmail",component:Ye}),i.createElement(oe.b,{path:"/ConfirmEmailSuccess",component:Xe}),i.createElement(oe.b,{path:"/Dialog/:toUserId",component:ft}),i.createElement(oe.b,{path:"/Profile/:userId",component:ct}),i.createElement(oe.b,{path:"/Dialogs",component:Et}),i.createElement(Me,{path:"/EditProfile",component:lt}),i.createElement(oe.b,{path:"/Friends",component:mt}),i.createElement(Me,{path:"/CreateGroup",component:vt}),i.createElement(Me,{path:"/EditGroup/:id",component:vt}),i.createElement(oe.b,{path:"/Group/:id",component:_t}),i.createElement(oe.b,{path:"/ListOfGroups",component:wt}),i.createElement(oe.b,{path:"/Image/:id/:link",component:Ae}))}),null))),document.getElementById("root"))},38:function(e,t,n){},58:function(e,t,n){},65:function(e,t,n){e.exports=n(101)},80:function(e,t,n){},81:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[65,1,2]]]);
//# sourceMappingURL=main.18db8a4d.chunk.js.map